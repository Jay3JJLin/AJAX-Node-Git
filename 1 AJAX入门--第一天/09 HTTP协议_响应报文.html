<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP协议_响应报文</title>
</head>

<body>
    <button class="btn">注册用户</button>
    <!-- 引入axios库 -->
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/1.3.6/axios.min.js"></script>
    <script>
        /*
            需求：通过 axios 提交用户名和密码，完成注册功能
            注册用户 URL 地址：http://hmajax.itheima.net/api/register
            请求方法：POST
            参数名：
               username 用户名（中英文和数字组成，最少 8 位）
               password 密码（最少 6 位）
            目标：点击按钮，通过axios提交用户和密码，完成注册
            需求：使用axios错误处理语法，拿到报错信息，弹框反馈给用户
        */

        // 1.获取按钮，添加事件
        document.querySelector('.btn').addEventListener('click', () => {
            axios({
                url: 'http://hmajax.itheima.net/api/register',
                // 2.指定请求方法,提交到服务器上 post
                method: 'post',
                // 3.提交数据 data
                data: {
                    username: '我对胡桃一心一意',
                    password: '123456'
                }
            }).then(res => {
                // 4.处理数据
                // 提交成功
                console.log(res);
            }).catch(error => {
                // 5.处理错误信息
                // 提交失败
                console.log(error);
                console.log(error.response.data.message);
                alert(error.response.data.message);
            })
        })
    </script>
</body>

</html>

<!-- 
HTTP 协议：规定了浏览器发送及服务器返回内容的格式
响应报文：服务器按照 HTTP 协议要求的格式，返回给浏览器的内容
一、响应报文的组成：
1. 响应行（状态行）：协议、HTTP 响应状态码、状态信息
2. 响应头：以键值对的格式携带的附加信息，比如：Content-Type
3. 空行：分隔响应头，空行之后的是服务器返回的资源
4. 响应体：返回的资源

在网络板块找到 标头 -> 响应标头 -> 响应

二. HTTP 响应状态码用来表明请求是否成功完成
状态码 说明
1xx 信息
2xx 成功
3xx 重定向消息
4xx 客户端错误 比如：404（服务器找不到资源）
5xx 服务端错误
 -->