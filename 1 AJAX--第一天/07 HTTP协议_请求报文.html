<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP协议_请求协议</title>
</head>

<body>
    <button class="btn">注册用户</button>
    <!-- 引入axios库 -->
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/1.3.6/axios.min.js"></script>
    <script>
        /*
            需求：通过 axios 提交用户名和密码，完成注册功能
            注册用户 URL 地址：http://hmajax.itheima.net/api/register
            请求方法：POST
            参数名：
               username 用户名（中英文和数字组成，最少 8 位）
               password 密码（最少 6 位）
            目标：点击按钮，通过axios提交用户和密码，完成注册
            需求：使用axios错误处理语法，拿到报错信息，弹框反馈给用户
        */

        // 1.获取按钮，添加事件
        document.querySelector('.btn').addEventListener('click', () => {
            axios({
                url: 'http://hmajax.itheima.net/api/register',
                // 2.指定请求方法,提交到服务器上 post
                method: 'post',
                // 3.提交数据 data
                data: {
                    username: 'JJlin3Jay',
                    password: 'qq147369'
                }
            }).then(res => {
                // 4.处理数据
                // 提交成功
                console.log(res);
            }).catch(error => {
                // 5.处理错误信息
                // 提交失败
                console.log(error);
                console.log(error.response.data.message);
                alert(error.response.data.message);
            })
        })
    </script>
</body>

</html>

<!-- 
请求报文的组成部分有:
1. 请求行：请求方法，URL，协议
2. 请求头：以键值对的格式携带的附加信息，比如：Content-Type 请求类型，如json
3. 空行：分隔请求头，空行之后的是发送给服务器的资源
4. 请求体：发送的资源

上述要点均在浏览器的网络面板中查看(请求报文)
123 在标头中的源代码中查看
4 在载荷/负载的源代码中查看

总结：
1. 浏览器发送给服务器的内容叫做请求报文
2. 请求报文的组成：
3. 通过 Chrome 的网络面板查看请求报文
 -->