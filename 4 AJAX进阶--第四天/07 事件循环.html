<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>事件循环</title>
</head>

<body>

    <script>
        /**
         * 目标：阅读并回答执行的顺序结果
        */
        console.log(1)
        setTimeout(() => {
            console.log(2)
        }, 0)
        console.log(3)
        setTimeout(() => {
            console.log(4)
        }, 2000)
        console.log(5)

        // 控制台输出： 1 3 5 2 4
    </script>
</body>

</html>

<!-- 
事件循环（EventLoop）
概念：JS有一个基于事件循环的并发模型，事件循环负责执行代码、收集和处理事件以及执行队列中的子任务，这个模型和其它语言中的模型截然不同，比如c和Java
原因：JavaScript 单线程（某一刻只能执行一行代码），为了让耗时代码不阻塞其他代码运行，设计了事件循环模型

事件循环 - 执行过程
定义：执行代码和收集异步任务的模型，在调用栈空闲，反复调用任务队列里回调函数的执行机制，就叫事件循环
调用栈 执行的有：同步代码，循环(原地执行)
宿主环境 执行的有：异步代码（耗时的），时间一到，便加入任务队列中，供调用栈(空闲时)调用
                对于函数(有回调，非原地执行)，若只是定义，要调用才会执行，优先级略低，但比定时器高
                事件(如click,loadend)等(都有函数回调)都是异步的
函数调用时，先进入调用栈，再判断内部是同步/异步

1. 什么是事件循环？
➢ 执行代码和收集异步任务，在调用栈空闲时，反复调用任务队列里回调函数执行机制
2. 为什么有事件循环？
➢ JavaScript 是单线程的，为了不阻塞 JS 引擎，设计执行代码的模型 
3. JavaScript 内代码如何执行？
➢ 执行 同步代码，遇到 异步代码 交给 宿主浏览器 环境执行
➢ 异步有了结果后，把 回调函数 放入任务 队列排队
➢ 当调用栈 空闲 后，反复调用 任务队列 里的回调函数 
 -->